{"version":3,"file":"CoachesManagement.js","sources":["../../src/pages/admin/CoachEditor.tsx","../../src/utils/teamsData.ts","../../src/pages/admin/CoachesManagement.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Save, X } from 'lucide-react';\nimport { Coach } from '@/types/coach';\nimport { db } from '@/lib/db';\n\ninterface CoachEditorProps {\n  coach: Coach;\n  onSave: (coach: Coach) => void;\n  onCancel: () => void;\n}\n\nconst CoachEditor: React.FC<CoachEditorProps> = ({ coach, onSave, onCancel }) => {\n  const [formData, setFormData] = useState<Coach>({ ...coach });\n  const [teams, setTeams] = useState([]);\n  \n  React.useEffect(() => {\n    const fetchTeams = async () => {\n      const data = await db.getTeams();\n      setTeams(data);\n    };\n    fetchTeams();\n  }, []);\n  \n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    \n    // Handle numeric fields\n    if (['experience'].includes(name)) {\n      setFormData({\n        ...formData,\n        [name]: parseInt(value, 10) || 0\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n  };\n  \n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  \n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Left Column - Basic Info */}\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"name\">ФИО тренера</Label>\n            <Input \n              id=\"name\" \n              name=\"name\" \n              value={formData.name} \n              onChange={handleChange}\n              required\n            />\n          </div>\n          \n          <div>\n            <Label htmlFor=\"experience\">Опыт работы (лет)</Label>\n            <Input \n              id=\"experience\" \n              name=\"experience\" \n              type=\"number\" \n              value={formData.experience} \n              onChange={handleChange}\n              min=\"0\"\n              required\n            />\n          </div>\n          \n          <div>\n            <Label htmlFor=\"team_id\">Команда</Label>\n            <select \n              id=\"team_id\" \n              name=\"team_id\" \n              value={formData.team_id} \n              onChange={handleChange}\n              className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              required\n            >\n              {teams.map((team: any) => (\n                <option key={team.id} value={team.id}>{team.name}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n        \n        {/* Right Column */}\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"photo\">URL фото</Label>\n            <Input \n              id=\"photo\" \n              name=\"photo\" \n              value={formData.photo || ''} \n              onChange={handleChange}\n            />\n            {formData.photo && (\n              <div className=\"mt-2\">\n                <img src={formData.photo} alt=\"Фото тренера\" className=\"w-32 h-32 object-cover rounded-full border\" onError={e => (e.currentTarget.style.display = 'none')} />\n              </div>\n            )}\n          </div>\n          \n          <div>\n            <Label htmlFor=\"achievements\">Достижения</Label>\n            <Textarea \n              id=\"achievements\" \n              name=\"achievements\" \n              value={formData.achievements || ''} \n              onChange={handleChange}\n              rows={4}\n            />\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"flex justify-end space-x-2 pt-4 border-t border-gray-200\">\n        <Button variant=\"outline\" type=\"button\" onClick={onCancel}>\n          <X className=\"mr-2 h-4 w-4\" /> Отмена\n        </Button>\n        <Button type=\"submit\" className=\"bg-fc-green hover:bg-fc-darkGreen\">\n          <Save className=\"mr-2 h-4 w-4\" /> Сохранить\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default CoachEditor;\n","\nimport { Team } from '@/types/team';\n\n// Initial teams data\nconst initialTeams: Team[] = [\n  {\n    id: 'gudauta',\n    name: 'ФК Гудаута',\n    shortName: 'Гудаута',\n    logo: '/lovable-uploads/9fd0afcb-f7b9-4726-ad0c-9637c412c9e9.png',\n    primaryColor: '#2e7d32',\n    secondaryColor: '#ffeb3b',\n    description: 'Команда «Гудаута» Новосибирск создана в 2008 г.р. Наша команда успешно участвует в региональных и городских турнирах, воспитывая молодых футболистов и показывая высокий уровень игры.',\n    foundedYear: 2008,\n    stadium: 'Стадион имени А.П. Соколова',\n    achievements: [\n      '«Бронзовый» призёр Первенства России среди любительских команд 3 дивизиона. Зона «Сибирь». 1 лига',\n      'Чемпион города Новосибирска',\n      'Обладатель Кубка города Новосибирска',\n      'Обладатель Кубка Федерации футбола',\n      'Обладатель Кубка Победы',\n      'Неоднократный призёр Чемпионатов города Новосибирска и Новосибирской области'\n    ],\n    coach: 'Александр Иванов',\n    address: 'г. Новосибирск, ул. Спортивная, 15',\n    socialLinks: {\n      website: 'https://fcgudauta.example.com',\n      instagram: 'https://instagram.com/fcgudauta',\n      facebook: 'https://facebook.com/fcgudauta'\n    },\n    backgroundImage: '/lovable-uploads/70205a26-8439-4152-8d6c-5c0c4d23ec34.png'\n  },\n  {\n    id: 'gudauta-school',\n    name: 'СШ Гудаута',\n    shortName: 'СШ Гудаута',\n    logo: '/lovable-uploads/9fd0afcb-f7b9-4726-ad0c-9637c412c9e9.png',\n    primaryColor: '#2e7d32',\n    secondaryColor: '#ffeb3b',\n    description: 'Спортивная школа Гудаута - кузница молодых футбольных талантов, где юные спортсмены получают качественное футбольное образование. Наша миссия - выявлять и развивать молодых футболистов, прививая им не только спортивные навыки, но и важные жизненные ценности: трудолюбие, командный дух и стремление к самосовершенствованию.',\n    foundedYear: 2008,\n    stadium: 'Тренировочный центр \"Молодёжный\"',\n    achievements: [\n      'Победитель юношеского первенства 2022',\n      'Лауреат премии \"Лучшая спортивная школа\" 2021',\n      'Участник международного юношеского турнира 2023'\n    ],\n    coach: 'Дмитрий Александрович Сидоров',\n    address: 'г. Новосибирск, ул. Молодёжная, 8',\n    socialLinks: {\n      website: 'https://schoolgudauta.example.com',\n      instagram: 'https://instagram.com/schoolgudauta'\n    },\n    backgroundImage: '/lovable-uploads/70205a26-8439-4152-8d6c-5c0c4d23ec34.png'\n  }\n];\n\n// Try to load teams from localStorage, or use initialTeams if not found\nconst loadTeams = (): Team[] => {\n  try {\n    const savedTeams = localStorage.getItem('teams');\n    if (savedTeams) {\n      return JSON.parse(savedTeams);\n    }\n  } catch (error) {\n    console.error('Failed to load teams from localStorage:', error);\n  }\n  \n  // Save initial teams to localStorage on first load\n  try {\n    localStorage.setItem('teams', JSON.stringify(initialTeams));\n  } catch (error) {\n    console.error('Failed to save initial teams to localStorage:', error);\n  }\n  \n  return initialTeams;\n};\n\n// Initialize teams array\nlet teams: Team[] = loadTeams();\n\n// Save teams to localStorage\nconst saveTeams = () => {\n  try {\n    localStorage.setItem('teams', JSON.stringify(teams));\n  } catch (error) {\n    console.error('Failed to save teams to localStorage:', error);\n  }\n};\n\n// Get all teams\nexport const getTeamsData = (): Team[] => {\n  return [...teams];\n};\n\n// Get a specific team by ID\nexport const getTeamById = (id: string): Team | undefined => {\n  return teams.find(team => team.id === id);\n};\n\n// Update a team\nexport const updateTeam = (updatedTeam: Team): void => {\n  teams = teams.map(team => \n    team.id === updatedTeam.id ? updatedTeam : team\n  );\n  \n  // Save changes to localStorage\n  saveTeams();\n};\n\n// Add a new team\nexport const addTeam = (newTeam: Team): void => {\n  teams.push(newTeam);\n  \n  // Save changes to localStorage\n  saveTeams();\n};\n\n// Delete a team\nexport const deleteTeam = (id: string): void => {\n  teams = teams.filter(team => team.id !== id);\n  \n  // Save changes to localStorage\n  saveTeams();\n};\n","import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Plus, Search, Pencil, Trash, Briefcase, Calendar, Award } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport CoachEditor from './CoachEditor';\nimport { getTeamById } from '@/utils/teamsData';\nimport { Coach } from '@/types/coach';\nimport { toast } from '@/components/ui/use-toast';\nimport { Card, CardHeader, CardTitle } from '@/components/ui/card';\nimport { db } from '@/lib/db';\n\nconst CoachesManagement = () => {\n  const [searchParams] = useSearchParams();\n  const teamId = searchParams.get('team') || 'gudauta';\n  \n  const [coaches, setCoaches] = useState<Coach[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [editMode, setEditMode] = useState(false);\n  const [currentCoach, setCurrentCoach] = useState<Coach | null>(null);\n  \n  const team = getTeamById(teamId);\n  \n  useEffect(() => {\n    const fetchCoaches = async () => {\n      const allCoaches = await db.getCoaches();\n      setCoaches(allCoaches.filter(c => c.team_id === teamId));\n    };\n    fetchCoaches();\n  }, [teamId]);\n  \n  const filteredCoaches = coaches.filter(coach => \n    coach.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  const handleEdit = (coach: Coach) => {\n    setCurrentCoach(coach);\n    setEditMode(true);\n  };\n  \n  const handleDelete = async (coachId: string) => {\n    if (window.confirm('Вы уверены, что хотите удалить этого тренера?')) {\n      try {\n        await db.deleteCoach(coachId);\n        const allCoaches = await db.getCoaches();\n        setCoaches(allCoaches.filter(c => c.team_id === teamId));\n        toast({\n          title: \"Тренер удален\",\n          description: \"Тренер был успешно удален из системы\",\n        });\n      } catch (error) {\n        toast({\n          variant: \"destructive\",\n          title: \"Ошибка\",\n          description: \"Не удалось удалить тренера\",\n        });\n      }\n    }\n  };\n  \n  const handleAddNew = () => {\n    const newCoach: Coach = {\n      id: '',\n      name: '',\n      team_id: teamId,\n      photo: '',\n      nationality: '',\n      age: undefined,\n      experience: undefined,\n      achievements: ''\n    };\n    setCurrentCoach(newCoach);\n    setEditMode(true);\n  };\n  \n  const handleSave = async (updatedCoach: Coach) => {\n    try {\n      if (updatedCoach.id) {\n        await db.updateCoach(updatedCoach.id, updatedCoach);\n        toast({\n          title: \"Тренер обновлен\",\n          description: \"Информация о тренере успешно обновлена\",\n        });\n      } else {\n        await db.createCoach(updatedCoach);\n        toast({\n          title: \"Тренер добавлен\",\n          description: \"Новый тренер успешно добавлен в систему\",\n        });\n      }\n      const allCoaches = await db.getCoaches();\n      setCoaches(allCoaches.filter(c => c.team_id === teamId));\n      setEditMode(false);\n      setCurrentCoach(null);\n    } catch (error) {\n      toast({\n        variant: \"destructive\",\n        title: \"Ошибка\",\n        description: \"Не удалось сохранить изменения\",\n      });\n    }\n  };\n  \n  const handleCancel = () => {\n    setEditMode(false);\n    setCurrentCoach(null);\n  };\n  \n  return (\n    <div>\n      <Card className=\"mb-8 bg-gradient-to-br from-white to-gray-50\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle>\n            <div className=\"flex items-center\">\n              <div \n                className=\"w-8 h-8 rounded-full mr-3 flex items-center justify-center\"\n                style={{ backgroundColor: team?.primaryColor || '#2e7d32' }}\n              >\n                <Briefcase className=\"h-4 w-4 text-white\" />\n              </div>\n              <span>Управление тренерами: {team?.name || 'Команда'}</span>\n            </div>\n          </CardTitle>\n          <Button onClick={handleAddNew} className=\"bg-fc-green hover:bg-fc-darkGreen\">\n            <Plus className=\"mr-2 h-4 w-4\" /> Добавить тренера\n          </Button>\n        </CardHeader>\n      </Card>\n      \n      {editMode && currentCoach ? (\n        <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-bold\">\n              {currentCoach.id.includes('coach-') && !coaches.some(c => c.id === currentCoach.id) \n                ? 'Добавить нового тренера' \n                : 'Редактировать тренера'\n              }\n            </h2>\n          </div>\n          \n          <CoachEditor \n            coach={currentCoach} \n            onSave={handleSave} \n            onCancel={handleCancel} \n          />\n        </div>\n      ) : (\n        <>\n          <div className=\"relative mb-6\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <Input\n              className=\"pl-10\"\n              placeholder=\"Поиск тренеров по имени или должности...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredCoaches.map((coach) => (\n              <div \n                key={coach.id} \n                className=\"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition-all\"\n              >\n                <div className=\"relative h-48 flex items-center justify-center bg-gray-100\">\n                  {coach.photo ? (\n                    <img \n                      src={coach.photo} \n                      alt={coach.name} \n                      className=\"w-32 h-32 object-cover rounded-full border shadow mx-auto mt-6\" \n                      onError={e => (e.currentTarget.style.display = 'none')}\n                    />\n                  ) : (\n                    <div className=\"w-32 h-32 rounded-full bg-gray-300 flex items-center justify-center text-gray-500 text-4xl mx-auto mt-6\">\n                      ?\n                    </div>\n                  )}\n                  <div className=\"absolute bottom-4 left-0 right-0 flex flex-col items-center\">\n                    <h3 className=\"text-xl font-bold text-white drop-shadow\">{coach.name}</h3>\n                  </div>\n                </div>\n                <div className=\"p-4\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <div className=\"flex items-center text-gray-500\">\n                      <Award className=\"h-4 w-4 text-amber-500 mr-1\" />\n                      <span className=\"text-sm\">{coach.experience ? `${coach.experience} лет опыта` : 'Опыт не указан'}</span>\n                    </div>\n                    {coach.nationality && (\n                      <span className=\"text-xs text-gray-400\">{coach.nationality}</span>\n                    )}\n                  </div>\n                  {coach.achievements && (\n                    <p className=\"text-sm text-gray-600 line-clamp-2 mb-4\">\n                      {coach.achievements}\n                    </p>\n                  )}\n                  <div className=\"flex justify-end space-x-2 mt-auto\">\n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\"\n                      onClick={() => handleEdit(coach)}\n                      className=\"text-blue-600 hover:text-blue-900\"\n                    >\n                      <Pencil className=\"h-4 w-4\" />\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\"\n                      onClick={() => handleDelete(coach.id)}\n                      className=\"text-red-600 hover:text-red-900\"\n                    >\n                      <Trash className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {filteredCoaches.length === 0 && (\n              <div className=\"col-span-full text-center py-12 bg-gray-50 rounded-lg\">\n                <div className=\"text-gray-500\">\n                  Тренеры не найдены. Добавьте первого тренера!\n                </div>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default CoachesManagement;\n"],"names":["CoachEditor","coach","onSave","onCancel","formData","setFormData","useState","__spreadValues","teams","setTeams","React","__async","data","db","handleChange","e","name","value","__spreadProps","handleSubmit","jsxs","jsx","Label","Input","team","Textarea","Button","X","Save","initialTeams","loadTeams","savedTeams","error","getTeamById","id","CoachesManagement","searchParams","useSearchParams","teamId","coaches","setCoaches","searchTerm","setSearchTerm","editMode","setEditMode","currentCoach","setCurrentCoach","useEffect","allCoaches","c","filteredCoaches","handleEdit","handleDelete","coachId","toast","handleAddNew","handleSave","updatedCoach","handleCancel","Card","CardHeader","CardTitle","Briefcase","Plus","Fragment","Search","Award","Pencil","Trash"],"mappings":"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"}