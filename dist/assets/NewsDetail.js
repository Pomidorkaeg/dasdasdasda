var x=(l,t,a)=>new Promise((m,n)=>{var c=s=>{try{r(a.next(s))}catch(o){n(o)}},i=s=>{try{r(a.throw(s))}catch(o){n(o)}},r=s=>s.done?m(s.value):Promise.resolve(s.value).then(c,i);r((a=a.apply(l,t)).next())});import{j as e,f,e as j,g as p}from"./ui-vendor.js";import{u,r as d,L as h}from"./react-vendor.js";import{d as N}from"./db.js";import"./api2.js";const E=()=>{const{id:l}=u(),[t,a]=d.useState(null),[m,n]=d.useState(!0),[c,i]=d.useState(null);return d.useEffect(()=>{x(void 0,null,function*(){if(l)try{const s=yield N.getNewsItem(l);s?a(s):i("Новость не найдена")}catch(s){console.error("Error fetching news:",s),i("Ошибка при загрузке новости")}finally{n(!1)}})},[l]),m?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:"Загрузка..."})}):c||!t?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"text-center text-red-500",children:c||"Новость не найдена"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(h,{to:"/news",className:"text-blue-500 hover:underline",children:"Вернуться к списку новостей"})})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(h,{to:"/news",className:"inline-flex items-center text-blue-500 hover:text-blue-700 mb-6",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Назад к новостям"]}),e.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t.image&&e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:t.title}),e.jsxs("div",{className:"flex items-center text-gray-500 mb-6",children:[e.jsxs("div",{className:"flex items-center mr-6",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t.author})]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"whitespace-pre-wrap",children:t.content})}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:t.tags.map((r,s)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:r},s))})]})]})]})};export{E as default};
//# sourceMappingURL=NewsDetail.js.map
