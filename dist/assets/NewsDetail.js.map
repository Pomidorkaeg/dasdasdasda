{"version":3,"file":"NewsDetail.js","sources":["../../src/components/NewsDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Calendar, User, ArrowLeft } from 'lucide-react';\r\nimport { db } from '@/lib/db';\r\nimport { News } from '@/types/models';\r\n\r\nconst NewsDetail = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const [news, setNews] = useState<News | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchNews = async () => {\r\n      if (!id) return;\r\n      \r\n      try {\r\n        const newsData = await db.getNewsItem(id);\r\n        if (newsData) {\r\n          setNews(newsData);\r\n        } else {\r\n          setError('Новость не найдена');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching news:', error);\r\n        setError('Ошибка при загрузке новости');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchNews();\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"text-center\">Загрузка...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !news) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"text-center text-red-500\">{error || 'Новость не найдена'}</div>\r\n        <div className=\"mt-4 text-center\">\r\n          <Link to=\"/news\" className=\"text-blue-500 hover:underline\">\r\n            Вернуться к списку новостей\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <Link\r\n        to=\"/news\"\r\n        className=\"inline-flex items-center text-blue-500 hover:text-blue-700 mb-6\"\r\n      >\r\n        <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n        Назад к новостям\r\n      </Link>\r\n\r\n      <article className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n        {news.image && (\r\n          <div className=\"aspect-video overflow-hidden\">\r\n            <img\r\n              src={news.image}\r\n              alt={news.title}\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-6\">\r\n          <h1 className=\"text-3xl font-bold mb-4\">{news.title}</h1>\r\n\r\n          <div className=\"flex items-center text-gray-500 mb-6\">\r\n            <div className=\"flex items-center mr-6\">\r\n              <Calendar className=\"h-4 w-4 mr-2\" />\r\n              <span>{new Date(news.date).toLocaleDateString()}</span>\r\n            </div>\r\n            <div className=\"flex items-center\">\r\n              <User className=\"h-4 w-4 mr-2\" />\r\n              <span>{news.author}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"prose max-w-none\">\r\n            <p className=\"whitespace-pre-wrap\">{news.content}</p>\r\n          </div>\r\n\r\n          {news.tags && news.tags.length > 0 && (\r\n            <div className=\"mt-6 flex flex-wrap gap-2\">\r\n              {news.tags.map((tag, index) => (\r\n                <span\r\n                  key={index}\r\n                  className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm\"\r\n                >\r\n                  {tag}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </article>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsDetail; "],"names":["NewsDetail","id","useParams","news","setNews","useState","loading","setLoading","error","setError","useEffect","__async","newsData","db","jsx","jsxs","Link","ArrowLeft","Calendar","User","tag","index"],"mappings":"6VAMA,MAAMA,EAAa,IAAM,CACjB,KAAA,CAAE,GAAAC,CAAG,EAAIC,EAA0B,EACnC,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAsB,IAAI,EAC5C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAwB,IAAI,EAwBtD,OAtBAK,EAAAA,UAAU,IAAM,CACgBC,EAAA,wBAC5B,GAAKV,EAED,GAAA,CACF,MAAMW,EAAW,MAAMC,EAAG,YAAYZ,CAAE,EACpCW,EACFR,EAAQQ,CAAQ,EAEhBH,EAAS,oBAAoB,QAExBD,EAAO,CACN,QAAA,MAAM,uBAAwBA,CAAK,EAC3CC,EAAS,6BAA6B,CAAA,QACtC,CACAF,EAAW,EAAK,CAAA,CAEpB,EAEU,EACT,CAACN,CAAE,CAAC,EAEHK,EAEAQ,EAAA,IAAC,OAAI,UAAU,8BACb,eAAC,MAAI,CAAA,UAAU,cAAc,SAAA,aAAA,CAAW,CAC1C,CAAA,EAIAN,GAAS,CAACL,EAEVY,EAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAAAD,EAAA,IAAC,MAAI,CAAA,UAAU,2BAA4B,SAAAN,GAAS,qBAAqB,EACzEM,EAAA,IAAC,MAAI,CAAA,UAAU,mBACb,SAAAA,EAAAA,IAACE,EAAK,CAAA,GAAG,QAAQ,UAAU,gCAAgC,SAAA,6BAAA,CAE3D,CACF,CAAA,CAAA,EACF,EAKFD,EAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAAAA,EAAA,KAACC,EAAA,CACC,GAAG,QACH,UAAU,kEAEV,SAAA,CAACF,EAAAA,IAAAG,EAAA,CAAU,UAAU,cAAe,CAAA,EAAE,kBAAA,CAAA,CAExC,EAEAF,EAAAA,KAAC,UAAQ,CAAA,UAAU,gDAChB,SAAA,CAAAZ,EAAK,OACJW,MAAC,MAAI,CAAA,UAAU,+BACb,SAAAA,EAAA,IAAC,MAAA,CACC,IAAKX,EAAK,MACV,IAAKA,EAAK,MACV,UAAU,4BAAA,CAAA,EAEd,EAGFY,EAAAA,KAAC,MAAI,CAAA,UAAU,MACb,SAAA,CAAAD,EAAA,IAAC,KAAG,CAAA,UAAU,0BAA2B,SAAAX,EAAK,MAAM,EAEpDY,EAAAA,KAAC,MAAI,CAAA,UAAU,uCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAACD,EAAAA,IAAAI,EAAA,CAAS,UAAU,cAAe,CAAA,EACnCJ,MAAC,QAAM,SAAI,IAAA,KAAKX,EAAK,IAAI,EAAE,oBAAqB,CAAA,CAAA,EAClD,EACAY,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAACD,EAAAA,IAAAK,EAAA,CAAK,UAAU,cAAe,CAAA,EAC/BL,EAAAA,IAAC,OAAM,CAAA,SAAAX,EAAK,MAAO,CAAA,CAAA,CACrB,CAAA,CAAA,EACF,EAEAW,EAAA,IAAC,MAAI,CAAA,UAAU,mBACb,SAAAA,EAAAA,IAAC,KAAE,UAAU,sBAAuB,SAAKX,EAAA,OAAA,CAAQ,CACnD,CAAA,EAECA,EAAK,MAAQA,EAAK,KAAK,OAAS,GAC/BW,EAAA,IAAC,MAAI,CAAA,UAAU,4BACZ,SAAKX,EAAA,KAAK,IAAI,CAACiB,EAAKC,IACnBP,EAAA,IAAC,OAAA,CAEC,UAAU,2DAET,SAAAM,CAAA,EAHIC,CAAA,CAKR,CACH,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ"}